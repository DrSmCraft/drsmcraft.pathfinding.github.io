<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pathfinding Algorithm Visualizer</title>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>-->
    <script src="js/bootstrap/bootstrap.bundle.min.js"></script>
    <!--    <script src="js/bootstrap/bootstrap.min.js"></script>-->


    <script src="js/createjs/easeljs-NEXT.js"></script>
    <script src="js/pathfinder.js"></script>
    <script src="js/script.js"></script>


    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/bootstrap-grid.css">
    <link rel="stylesheet" href="css/bootstrap-reboot.css">
    <link rel="stylesheet" href="css/bootstrap-utilities.css">
    <link id="theme-style" rel="stylesheet" href="css/style-light.css">


</head>
<body id="body">


<div class="body-title">
    <h2 class="text-center text-capitalize">Pathfinding Algorithm Visualizer</h2>
    <h6 class="text-center"><i>Made by DrSmCraft</i></h6>
    <hr>
</div>


<div class="container-fluid">
    <div class="row">
        <div id="output-container" class="col-lg-10">

            <canvas id="output" class="mx-auto d-block img-fluid" tabindex="1">

            </canvas>

            <script>

                var output = document.getElementById("output");
                output.onmousedown = outputOnMouseDown;
                output.onmouseup = outputOnMouseUp;
                output.onclick = outputClicked;
                output.onmousemove = mouseMoveOverOutput;
                document.addEventListener("keydown", outputKeyDown);
                document.addEventListener("keyup", outputKeyUp);


            </script>


            <div class="controls col-6 mx-auto  align-content-center align-self-center text-center">
                <button id="run-btn" class="form-submit control-btn" onclick="runVisualization();" disabled>Run</button>
                <button id="run-once-btn" class="form-submit control-btn" onclick="runVisualizationOneStep();" disabled>
                    Run 1 Step
                </button>
                <button id="stop-btn" class=" form-submit control-btn" onclick="stopVisualization();"
                        disabled>
                    Stop
                </button>

                <p id="step-label" class="text-center"></p>


            </div>


        </div>

        <div class="col-lg-2">
            <div class="settings container d-block mx-auto"
                 style="">
                <h5 class="text-center" style="margin: 5px;">
                    Settings
                </h5>
                <form id="settings-form" onsubmit="startVisualization(); return false;">
                    <div class="form-group">
                        <div class="form-text">
                            Algorithm
                        </div>
                        <div class="form-check form-check-inline">
                            <input id="dijkstra-radio" class="form-check-input" type="radio" name="algorithm" checked>
                            <label for="dijkstra-radio" class="form-label">Dijkstra's </label>

                        </div>
                        <div class="form-check form-check-inline">
                            <input id="aStar-radio" class="form-check-input" type="radio" name="algorithm">
                            <label for="aStar-radio" class="form-label"> A* </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="form-text">
                            Style
                        </div>
                        <div class="form-check form-check-inline">
                            <input id="grid-radio" class="form-check-input" type="radio" name="style" checked>
                            <label for="grid-radio" class="form-label">Grid</label>

                        </div>
                        <div class="form-check form-check-inline">
                            <input id="poly-radio" class="form-check-input" type="radio" name="style">
                            <label for="poly-radio" class="form-label"> Poly </label>
                        </div>
                    </div>
                    <hr>

                    <div class="form-group">
                        <div class="form-text">
                            Starting Point
                        </div>

                        <label class="form-label-inline" for="start-x-input">X</label>
                        <input id="start-x-input" type="number" min="0" max="100" value="0" onclick="startFocus()"
                               required>

                        <label class="form-label-inline" for="start-y-input">Y</label>
                        <input id="start-y-input" type="number" min="0" max="100" value="0" onclick="startFocus()"
                               required>
                    </div>

                    <div class="form-group">
                        <div class="form-text">
                            Ending Point
                        </div>

                        <label class="form-text-inline" for="end-x-input">X</label>
                        <input id="end-x-input" type="number" min="0" max="100" value="1" onclick="endFocus()" required>

                        <label class="form-text-inline" for="end-y-input">Y</label>
                        <input id="end-y-input" type="number" min="0" max="100" value="1" onclick="endFocus()" required>
                    </div>

                    <div class="form-group">
                        <div class="form-text">Obstacle Points</div>

                        <select id="obstacle-listbox" class="form-control" size="5" onclick="obstacleFocus()">

                        </select>
                    </div>


                    <div class="form-group">
                        <input id="start-btn" class="form-submit mx-auto d-block" type="submit" value="Start">
                    </div>
                </form>


            </div>
        </div>
    </div>

</div>

<footer class="">


    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="themeRadio" id="lightThemeRadio" value="Light"
               onclick="setThemeLight()" checked>
        <label class="form-check-label" for="lightThemeRadio">
            Light
        </label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="themeRadio" id="darkThemeRadio" value="Dark"
               onclick="setThemeDark()">
        <label class="form-check-label" for="darkThemeRadio">
            Dark
        </label>
    </div>

    <script>

        let pairs = document.cookie.split(";");
        for (let i = 0; i < pairs.length; i++) {
            let cookie = pairs[i].split("=");


            if (cookie[0] === "theme") {

                if (cookie[1] === "light") {
                    setThemeLight();
                    document.getElementById("lightThemeRadio").checked = true;
                    document.getElementById("darkThemeRadio").checked = false;

                }
                if (cookie[1] === "dark") {
                    setThemeDark();
                    document.getElementById("lightThemeRadio").checked = false;
                    document.getElementById("darkThemeRadio").checked = true;

                }
            }
        }
    </script>

</footer>

</body>
</html>