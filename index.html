<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pathfinding Algorithm Visualizer</title>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="js/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="js/createjs/easeljs-NEXT.js"></script>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/bootstrap-grid.css">
    <link rel="stylesheet" href="css/bootstrap-reboot.css">
    <link rel="stylesheet" href="css/bootstrap-utilities.css">
    <link id="theme-style" rel="stylesheet" href="css/style-light.css">
    <script src="js/pathfinder.js"></script>
    <script src="js/script.js"></script>

</head>
<body id="body">


<div class="container-fluid">
    <div class="row">
        <div class="col-11 body-title">
            <h2 class="text-center text-capitalize">Pathfinding Algorithm Visualizer</h2>
            <h6 class="text-center"><i>Made by DrSmCraft</i></h6>
        </div>

        <div class="col-1">
            <div class="theme-switcher form-check form-switch form-check-inline">
                <input id="theme-switch" class="form-check-input" type="checkbox" onclick="toggleTheme();">
                <label id="theme-switch-label" class="form-check-label" for="theme-switch">Light</label>
            </div>
        </div>
    </div>
</div>
<hr>

<div class="container-fluid">
    <div class="row">
        <div id="output-container" class="col-lg-10">

            <canvas id="output" class="mx-auto d-block img-fluid" tabindex="1">

            </canvas>

            <script>

                var output = document.getElementById("output");
                output.onmousedown = outputOnMouseDown;
                output.onmouseup = outputOnMouseUp;
                output.onclick = outputClicked;
                output.onmousemove = mouseMoveOverOutput;
                document.addEventListener("keydown", outputKeyDown);
                document.addEventListener("keyup", outputKeyUp);


            </script>


            <div class="controls col-6 mx-auto  align-content-center align-self-center text-center">
                <button id="run-btn" class="form-submit control-btn" onclick="runVisualization();" disabled>Run</button>
                <button id="run-once-btn" class="form-submit control-btn" onclick="runVisualizationOneStep();" disabled>
                    Run 1 Step
                </button>
                <button id="stop-btn" class=" form-submit control-btn" onclick="stopVisualization();"
                        disabled>
                    Stop
                </button>

                <div class="form-check form-check-inline">
                    <label for="show-dist-check" class="form-label">Show Distances?</label>
                    <input id="show-dist-check" class="form-check-input" type="checkbox"
                           onclick="showDistances = !showDistances;changed = true;" checked disabled>
                </div>
                <p id="step-label" class="text-center"></p>
            </div>
        </div>

        <div class="col-lg-2">
            <div class="settings container d-block mx-auto">
                <h5 class="text-center" style="margin: 5px;">
                    Settings
                </h5>

                <form id="settings-form" onsubmit="startVisualization(); return false;">
                    <div class="form-group">
                        <div class="form-text">
                            Algorithm
                        </div>
                        <div class="form-check form-check-inline">
                            <input id="dijkstra-radio" class="form-check-input" type="radio" name="algorithm"
                                   onclick="algorithmClicked();" checked>
                            <label for="dijkstra-radio" class="form-label">Dijkstra's<span class="label"><a
                                    href="https://wikipedia.org/wiki/Dijkstra's_algorithm#Pseudocode"
                                    target="_blank">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                     fill="currentColor" class="bi bi-link-45deg"
                                     viewBox="0 0 16 16">
                                <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>
                                <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"/>
                            </svg>
                            </a>
                            </span>
                            </label>

                        </div>
                        <div class="form-check form-check-inline">
                            <input id="aStar-radio" class="form-check-input" type="radio" name="algorithm"
                                   onclick="algorithmClicked();">
                            <label for="aStar-radio" class="form-label"> A* <span class="label"><a
                                    href="https://wikipedia.org/wiki/A*_search_algorithm#Pseudocode"
                                    target="_blank">
                                 <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                      fill="currentColor" class="bi bi-link-45deg"
                                      viewBox="0 0 16 16">
                                <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>
                                <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"/>
                            </svg>
                            </a>
                            </span> </label>
                        </div>
                    </div>

                    <div class="collapse" id="heuristic-collapse">
                        <div class="form-check form-check-inline">
                            <label for="heuristic-type">Heuristic Function</label>
                            <select id="heuristic-type" class="form-control" size="1">
                                <option>Euclidean Distance</option>
                                <option>Manhattan Distance</option>
                                <option>Penalize Horizontal</option>
                                <option>Penalize Vertical</option>
                            </select>
                        </div>

                    </div>


                    <div class="form-group">
                        <div class="form-check form-check-inline">
                            <input id="diagonal-check" class="form-check-input" type="checkbox" name="diagonal">
                            <label for="diagonal-check" class="form-label">Allow Diagonal Movement?</label>

                        </div>

                    </div>
                    <hr>

                    <div class="form-group">
                        <div class="form-text">
                            Starting Point
                        </div>

                        <label class="form-label-inline source" for="start-x-input">X</label>
                        <input id="start-x-input" type="number" min="0" max="100" value="0" onfocus="startFocus();"
                               onblur="startBlur();"
                               required>

                        <label class="form-label-inline source" for="start-y-input">Y</label>
                        <input id="start-y-input" type="number" min="0" max="100" value="0" onfocus="startFocus();"
                               onblur="startBlur();"
                               required>
                    </div>

                    <div class="form-group">
                        <div class="form-text">
                            Ending Point
                        </div>

                        <label class="form-text-inline target" for="end-x-input">X</label>
                        <input id="end-x-input" type="number" min="0" max="100" value="1" onfocus="endFocus();"
                               onblur="endBlur();" required>

                        <label class="form-text-inline target" for="end-y-input">Y</label>
                        <input id="end-y-input" type="number" min="0" max="100" value="1" onfocus="endFocus();"
                               onblur="endBlur();" required>
                    </div>

                    <div class="form-group">
                        <div class="form-text">Obstacle Points</div>

                        <select id="obstacle-listbox" class="form-control" size="5" onfocus="obstacleFocus();"
                                onblur="obstacleBlur();">

                        </select>
                    </div>


                    <div class="form-group">
                        <input id="start-btn" class="form-submit mx-auto d-block" type="submit" value="Start">
                    </div>
                </form>


            </div>
        </div>
    </div>

</div>


</body>

<script defer>
    setThemeFromCookie();


</script>
</html>
